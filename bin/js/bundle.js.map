{"version":3,"file":"bundle.js","sources":["../../src/common/Res.ts","../../src/core/EventGlobal.ts","../../src/components/ViewShowAni.ts","../../src/view/LoadView.ts","../../src/common/UserInfo.ts","../../src/core/ObservableProperty.ts","../../src/core/GameScript.ts","../../src/view/MainView.ts","../../src/components/Button.ts","../../src/view/TaskControl.ts","../../src/GameConfig.ts","../../src/core/Instance.ts","../../src/core/ViewManager.ts","../../src/Main.ts"],"sourcesContent":["//代码生成，不要手动修改\r\n\r\n/**\r\n * 界面列表\r\n */\r\n export enum views \r\n    {\r\n        /** scenes/views/LoadDialog.scene */\r\n        LoadDialog = \"scenes/views/LoadDialog.scene\", \r\n        /** scenes/views/MainView.scene */\r\n        MainView = \"scenes/views/MainView.scene\", \r\n        /** scenes/views/TaskView.scene */\r\n        TaskView = \"scenes/views/TaskView.scene\", \r\n    }\r\n\r\n export enum audios \r\n    {\r\n        /** audio/win.mp3 */\r\n        win = \"res/audio/win.mp3\", \r\n        /** audio/ready.mp3 */\r\n        ready = \"res/audio/ready.mp3\", \r\n        /** audio/move.mp3 */\r\n        move = \"res/audio/move.mp3\", \r\n        /** audio/go.mp3 */\r\n        go = \"res/audio/go.mp3\", \r\n        /** audio/fail.mp3 */\r\n        fail = \"res/audio/fail.mp3\", \r\n        /** audio/draw.mp3 */\r\n        draw = \"res/audio/draw.mp3\", \r\n    }\r\n\r\n/**\r\n * 界面列表\r\n */\r\n export const scenes = [\r\n         \"scenes/views/TaskView.scene\",\r\n         \"scenes/views/MainView.scene\",\r\n         \"scenes/views/LoadDialog.scene\",\r\n         \"scenes/components/Button.prefab\",\r\n            \"res/Xasdfasd.png\",\r\n            \"res/rule_text.png\",\r\n            \"res/bg1.png\",\r\n            \"res/audio/win.mp3\",\r\n            \"res/audio/ready.mp3\",\r\n            \"res/audio/move.mp3\",\r\n            \"res/audio/go.mp3\",\r\n            \"res/audio/fail.mp3\",\r\n            \"res/audio/draw.mp3\",\r\n            \"res/atlas/win.png\",\r\n            \"res/atlas/win.atlas\",\r\n            \"res/atlas/lose.png\",\r\n            \"res/atlas/lose.atlas\",\r\n            \"res/atlas/game.png\",\r\n            \"res/atlas/game.atlas\"];\r\n    \r\n\r\n/**\r\n * 所有资源\r\n */\r\nconst Res = {\r\n    views: views,\r\n    scenes: scenes,\r\n    audios: audios,\r\n};\r\n\r\nexport default Res;\r\n","/**\r\n * 全局事件\r\n */\r\nconst EventGlobal = new Laya.EventDispatcher();\r\n\r\n/**\r\n * 储存的需要绑定订阅事件的类的原型列表\r\n */\r\nexport const EventClass: Map<any, { key: string; fn: Function }> = new Map();\r\n\r\n/**事件绑定 => 绑定到装饰器上 */\r\nexport function EventOn(name: string) {\r\n    return (target: any, propertyKey: string, descriptor: PropertyDescriptor) => {\r\n        EventClass.set(target, { key: name, fn: descriptor.value });\r\n    };\r\n}\r\n\r\nexport default EventGlobal;\r\n","import TaskControl from \"../view/TaskControl\";\r\n\r\nexport default class ViewShowAni extends Laya.Script {\r\n    private effectTweenOpen: Laya.Tween = null;\r\n    private effectTweenClose: Laya.Tween = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 打开后调用\r\n     */\r\n    doOpen() {}\r\n    /**\r\n     *  关闭成功后调用\r\n     */\r\n    doClose() {}\r\n\r\n    onEnable(): void {\r\n        let dialog = this.owner as Laya.View;\r\n        dialog.scale(1, 1);\r\n        dialog.alpha = 0.6;\r\n        this.effectTweenOpen = Laya.Tween.from(\r\n            dialog,\r\n            { x: Laya.stage.width / 2, y: Laya.stage.height / 2, scaleX: 0, scaleY: 0 },\r\n            300,\r\n            Laya.Ease.backOut,\r\n            Laya.Handler.create(this, this.doOpen, [dialog]),\r\n            0,\r\n            false,\r\n            false\r\n        );\r\n    }\r\n\r\n    closeView() {\r\n        let dialog = this.owner as Laya.View;\r\n        return new Promise((resolve) => {\r\n            this.effectTweenClose = Laya.Tween.to(\r\n                dialog,\r\n                { x: Laya.stage.width / 2, y: Laya.stage.height / 2, scaleX: 0, scaleY: 0 },\r\n                300,\r\n                Laya.Ease.strongOut,\r\n                new Laya.Handler(\r\n                    this,\r\n                    () => {\r\n                        this.doClose();\r\n                        resolve(null);\r\n                    },\r\n                    [dialog]\r\n                ),\r\n\r\n                // Laya.Handler.create(\r\n                //     this,\r\n                //     () => {\r\n                //         this.doClose();\r\n                //         resolve(null);\r\n                //     },\r\n                //     [dialog]\r\n                // ),\r\n                0,\r\n                false,\r\n                false\r\n            );\r\n        });\r\n    }\r\n\r\n    onDisable(): void {\r\n        this.effectTweenOpen && Laya.Tween.clear(this.effectTweenOpen);\r\n        this.effectTweenOpen = null;\r\n        this.effectTweenClose && Laya.Tween.clear(this.effectTweenClose);\r\n        this.effectTweenClose = null;\r\n    }\r\n}\r\n","import { EventMaps } from \"../common/EventMaps\";\r\nimport EventGlobal from \"../core/EventGlobal\";\r\n\r\nexport default class LoadView extends Laya.Script {\r\n    /** @prop {name:loadLabel, tips:\"load 文本\", type:Node}*/\r\n    public loadLabel: Laya.Label = null;\r\n\r\n    onAwake() {\r\n        // this.owner.i\r\n    }\r\n\r\n    onEnable(): void {\r\n        // console.log(this.loadLabel);\r\n        EventGlobal.on(EventMaps.load_progress, this, this.loadProgress);\r\n        this.loadLabel.text = \"Load....0%\";\r\n    }\r\n\r\n    private loadProgress(v) {\r\n        this.loadLabel.text = `Load....${(v * 100).toFixed(2)}%`;\r\n    }\r\n\r\n    onDisable(): void {\r\n        EventGlobal.off(EventMaps.load_progress, this, this.loadProgress);\r\n    }\r\n}\r\n","import { Instance } from \"../core/Instance\";\r\n\r\n/**\r\n * 用户信息\r\n */\r\nclass UserInfo {\r\n    /** 用户名称 */\r\n    nickname: string = \"name\";\r\n    /** 用户id */\r\n    uid: number = 0;\r\n\r\n    clear() {\r\n        this.nickname = \"\";\r\n    }\r\n}\r\nexport default new UserInfo();\r\n","const callers: Map<any, Function[]> = new Map();\r\n\r\nclass ObservableControl<call extends Laya.Script> {\r\n    private keyEvents: Map<any, Map<string, Function[]>> = new Map();\r\n\r\n    /**\r\n     * 监听属性值变化\r\n     * @param Obj 需要监听的对象\r\n     */\r\n    watch<T extends {}>(Obj: T, caller: call) {\r\n        if (!callers.has(caller)) {\r\n            callers.set(caller, []);\r\n        }\r\n\r\n        let keyEvent = this.keyEvents;\r\n        if (!keyEvent.has(Obj)) {\r\n            keyEvent.set(Obj, new Map());\r\n        }\r\n\r\n        /**\r\n         * 需要监听变化的属性事件\r\n         * @param key 需要监听的属性\r\n         * @param call 回调\r\n         */\r\n        const keyBind = <Key extends keyof T>(key: Key & string, call: Function) => {\r\n            let _obj = keyEvent.get(Obj);\r\n            if (!_obj.has(key)) {\r\n                _obj.set(key, []);\r\n                if (Obj[\"#\" + key] == undefined) {\r\n                    Obj[\"#\" + key] = Obj[key];\r\n                    Object.defineProperty(Obj, key, {\r\n                        configurable: false,\r\n                        enumerable: false,\r\n                        set: (v) => {\r\n                            this[\"#\" + key] = v;\r\n                            _obj.get(key).forEach((e) => {\r\n                                e(v);\r\n                            });\r\n                        },\r\n                        get: function () {\r\n                            return this[\"#\" + key];\r\n                        },\r\n                    });\r\n                }\r\n            }\r\n            // call.bind(call);\r\n            _obj.get(key).push(call);\r\n            callers.get(caller).push(call);\r\n            call(Obj[key]);\r\n            return { key: keyBind };\r\n        };\r\n\r\n        return { key: keyBind };\r\n    }\r\n\r\n    /**\r\n     * 通过传入的caller删除当前绑定的所有的事件 或指定解决模个对象跟当前caller绑定的监听\r\n     * @param caller 监听时绑定的场景对象\r\n     * @param obj 监听的对象\r\n     */\r\n    removeByCaller(caller: call, obj: any = null) {\r\n        callers.get(caller)?.forEach((e) => {\r\n            if (obj) {\r\n                this.keyEvents?.get(obj).forEach((ev) => {\r\n                    let indexOf = ev.indexOf(e);\r\n                    if (indexOf > -1) ev.splice(indexOf, 1);\r\n                });\r\n            } else {\r\n                this.keyEvents?.forEach((k) => {\r\n                    k.forEach((ev) => {\r\n                        let indexOf = ev.indexOf(e);\r\n                        if (indexOf > -1) ev.splice(indexOf, 1);\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 对象属性绑定可监听变化\r\n */\r\nexport default new ObservableControl();\r\n","import EventGlobal, { EventClass } from \"./EventGlobal\";\r\nimport ObservableProperty from \"./ObservableProperty\";\r\n\r\n/**\r\n * 组件\r\n */\r\nexport default abstract class GameScript extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n\r\n        console.log(1111);\r\n        let bindEvent = EventClass.get(this.constructor.prototype);\r\n        bindEvent && EventGlobal.on(bindEvent.key, this, bindEvent.fn);\r\n    }\r\n\r\n    /**\r\n     * 此方法不要重写 使用 onHdAwake\r\n     * @deprecated\r\n     */\r\n    onAwake() {\r\n        this.onHdAwake();\r\n    }\r\n    /**\r\n     * 组件被激活后执行，此时所有节点和组件均已创建完毕，次方法只执行一次\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onHdAwake() {}\r\n\r\n    /**\r\n     * 此方法不要重写 使用 onHdEnable\r\n     * @deprecated\r\n     */\r\n    onEnable() {\r\n        this.onHdEnable();\r\n    }\r\n\r\n    /**\r\n     * 组件被启用后执行，比如节点被添加到舞台后\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onHdEnable() {}\r\n\r\n    /**\r\n     * 此方法不要重写 使用 onHdStart\r\n     * @deprecated\r\n     */\r\n    onStart() {\r\n        this.onHdStart();\r\n    }\r\n    /**\r\n     * 第一次执行update之前执行，只会执行一次\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onHdStart() {}\r\n\r\n    /**\r\n     * 此方法不要重写 使用 onHdUpdate\r\n     * @deprecated\r\n     */\r\n    onUpdate() {\r\n        this.onHdUpdate();\r\n    }\r\n\r\n    /**\r\n     * 每帧更新时执行，尽量不要在这里写大循环逻辑或者使用getComponent方法\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onHdUpdate() {}\r\n\r\n    /**\r\n     * 此方法不要重写 使用 onHdDisable\r\n     * @deprecated\r\n     */\r\n    onDisable() {\r\n        this.onHdDisable();\r\n    }\r\n\r\n    /**\r\n     * 组件被禁用时执行，比如从节点从舞台移除后\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onHdDisable() {}\r\n\r\n    /**\r\n     * 此方法不要重写 使用 onHdDestroy\r\n     * @deprecated\r\n     */\r\n    onDestroy() {\r\n        EventGlobal.offAllCaller(this);\r\n        this.onHdDestroy();\r\n        Laya.timer.once(1, null, () => {\r\n            //清除跟当前类绑定所有的属性观察方法\r\n            ObservableProperty.removeByCaller(this);\r\n            //销毁时清除所有的属性引用\r\n            let keys = Object.getOwnPropertyNames(this);\r\n            for (let x = 0, l = keys.length; x < l; x++) {\r\n                this[keys[x]] = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 手动调用节点销毁时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onHdDestroy() {}\r\n}\r\n","import Res from \"../common/Res\";\r\nimport UserInfo from \"../common/UserInfo\";\r\nimport EventGlobal, { EventOn } from \"../core/EventGlobal\";\r\nimport GameScript from \"../core/GameScript\";\r\nimport ObservableProperty from \"../core/ObservableProperty\";\r\nimport { ViewManager } from \"../core/ViewManager\";\r\n\r\nexport default class MainView extends GameScript {\r\n    /** @prop {name:image, tips:\"布尔类型示例\", type:Node}*/\r\n    public image: Laya.Label = null;\r\n    // 更多参数说明请访问: https://ldc2.layabox.com/doc/?nav=zh-as-2-4-0\r\n\r\n    onHdEnable(): void {\r\n        // console.log(this.testEvent);\r\n        // return;\r\n        let a = 0;\r\n        setInterval(() => {\r\n            UserInfo.nickname = \"1231231\" + ++a;\r\n            EventGlobal.event(\"aa\", \"asdfa\");\r\n            // if (a == 1) {\r\n            //     EventGlobal.off(\"aa\", this, this.myEvent);\r\n            // }\r\n        }, 1000);\r\n\r\n        ObservableProperty.watch(UserInfo, this).key(\"nickname\", (e) => {\r\n            this.image.text = e;\r\n        });\r\n    }\r\n\r\n    onClick(e) {\r\n        switch (e.target.name) {\r\n            case \"openTask\":\r\n                console.log(\"open task\");\r\n                ViewManager.inst.open(Res.views.TaskView);\r\n                break;\r\n        }\r\n    }\r\n}\r\n","export default class Button extends Laya.Script {\r\n    /** @prop {name:defaultRes, tips:\"资源\",type:strings,accept:res}*/\r\n    private defaultRes;\r\n    /** @prop {name:downRes, tips:\"资源\",type:strings,accept:res}*/\r\n    private downRes;\r\n    /** @prop {name:isScale, tips:\"是否缩放\",type:Check}*/\r\n    private isScale = false;\r\n    /** @prop {name:scaleVal, tips:\"缩放的值\",type:Number, default:0.9}*/\r\n    private scaleVal: number = 0.9;\r\n\r\n    onEnable(): void {\r\n        // console.log(this.isScale);\r\n    }\r\n\r\n    onMouseDown() {\r\n        this.setSkin(this.downRes);\r\n\r\n        this.setAni(this.scaleVal);\r\n    }\r\n\r\n    onMouseOut() {\r\n        this.setSkin(this.defaultRes);\r\n        this.setAni(1);\r\n    }\r\n    onMouseUp() {\r\n        this.setSkin(this.defaultRes);\r\n        this.setAni(1);\r\n    }\r\n\r\n    private setAni(scale: number) {\r\n        if (!this.isScale) return;\r\n        Laya.Tween.to(\r\n            this.owner,\r\n            { scaleX: scale, scaleY: scale },\r\n            300,\r\n            Laya.Ease.backOut,\r\n            null,\r\n            0,\r\n            false,\r\n            false\r\n        );\r\n    }\r\n\r\n    private setSkin(skin: string) {\r\n        if (!skin) return;\r\n        (this.owner as Laya.Image).skin = skin;\r\n    }\r\n\r\n    onDisable(): void {}\r\n}\r\n","import Res from \"../common/Res\";\r\nimport UserInfo from \"../common/UserInfo\";\r\nimport EventGlobal, { EventOn } from \"../core/EventGlobal\";\r\nimport GameScript from \"../core/GameScript\";\r\nimport ObservableProperty from \"../core/ObservableProperty\";\r\nimport { ViewManager } from \"../core/ViewManager\";\r\n\r\nexport default class TaskControl extends GameScript {\r\n    /** @prop {name:image, tips:\"布尔类型示例\", type:Node}*/\r\n    public image: Laya.Label = null;\r\n\r\n    game: string = \"121212\";\r\n\r\n    @EventOn(\"aa\")\r\n    myEvent(e) {\r\n        console.log(\"aa\", e, this.image);\r\n    }\r\n\r\n    onClick(e) {\r\n        switch (e.target.name) {\r\n            case \"close\":\r\n                ViewManager.inst.close(Res.views.TaskView);\r\n                break;\r\n        }\r\n    }\r\n}\r\n","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport LoadView from \"./view/LoadView\"\nimport MainView from \"./view/MainView\"\nimport Button from \"./components/Button\"\nimport TaskControl from \"./view/TaskControl\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=750;\r\n    static height:number=1334;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"vertical\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"scenes/views/MainView.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=true;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"view/LoadView.ts\",LoadView);\n        reg(\"view/MainView.ts\",MainView);\n        reg(\"components/Button.ts\",Button);\n        reg(\"view/TaskControl.ts\",TaskControl);\r\n    }\r\n}\r\nGameConfig.init();","/**\r\n * 实例列表\r\n */\r\nconst instanceList: Map<number, { new (): void }> = new Map();\r\n\r\n/**\r\n * 实例的id\r\n */\r\nlet instanceId: number = 100;\r\n\r\n/**\r\n * 单例装饰器\r\n */\r\nexport function Instance(target: any, key: string) {\r\n    if (!instanceList.has(target[\"#instanceId\"])) {\r\n        instanceId++;\r\n        target[\"#instanceId\"] = instanceId;\r\n        instanceList.set(instanceId, new target());\r\n    }\r\n    target[key] = instanceList.get(instanceId);\r\n}\r\n","import Res, { views } from \"../common/Res\";\r\nimport ViewShowAni from \"../components/ViewShowAni\";\r\nimport GameConfig from \"../GameConfig\";\r\nimport { Instance } from \"./Instance\";\r\n\r\n/**\r\n * 打开界面需要带入的参数\r\n */\r\ninterface ViewOpenParm {\r\n    /** 显示load界面 */\r\n    showLoad?: boolean;\r\n    /** 显示load界面延迟时间 */\r\n    showLoadDelay?: number;\r\n    /** 隐藏load界面延迟时间 默认0 */\r\n    hideLoadDelay?: number;\r\n    /** 是否关闭其他场景，默认为true（可选），【注意】被关闭的场景，如果没有设置autoDestroyAtRemoved=true，则资源可能不能被回收，需要自己手动回收\r\n     * todo 现在这个调用的是引擎自带的方法，没有走这里的缓存，可能会有问题，后期优化\r\n     */\r\n    closeOther?: boolean;\r\n    /** 打开页面的参数，会传递给onOpened方法（可选） */\r\n    parm?: any;\r\n    /**  打开页面的参数，会传递给onOpened方法（可选） */\r\n    complete?: Function;\r\n    /** 加载进度回调（可选） */\r\n    progress?: Handler;\r\n}\r\n\r\nconst viewMaps: { url: string; view: Laya.View }[] = [];\r\n\r\n/**\r\n * 界面管理器\r\n */\r\nexport class ViewManager {\r\n    @Instance\r\n    static inst: ViewManager;\r\n\r\n    /**\r\n     * 打开一个界面\r\n     * @param url 界面地址 Res.views里的\r\n     * @param data 参数\r\n     */\r\n    open(\r\n        url: views,\r\n        data: ViewOpenParm = {\r\n            closeOther: false,\r\n            showLoad: false,\r\n            showLoadDelay: 100,\r\n            hideLoadDelay: 0,\r\n        }\r\n    ): void {\r\n        if (!url) {\r\n            console.warn(\"miss path!\");\r\n            return;\r\n        }\r\n\r\n        if (data.showLoad) {\r\n            Laya.View.showLoadingPage(null, data.showLoadDelay);\r\n            if (url !== Res.views.LoadDialog) {\r\n                Laya.timer.frameOnce(1, this, () => {\r\n                    Laya.View.hideLoadingPage(data.hideLoadDelay);\r\n                });\r\n            }\r\n        }\r\n\r\n        Laya.View.open(\r\n            url,\r\n            data.closeOther,\r\n            data.parm,\r\n            Laya.Handler.create(this, (e) => {\r\n                if (url != Res.views.LoadDialog) viewMaps.push({ url: url, view: e });\r\n                data.complete && data.complete(e);\r\n                console.log(\r\n                    `%c ==> open %c${url.match(/\\w+(?=\\.)/)[0]} `,\r\n                    `color:#7ed6df;font-weight:700;background-color:#dff9fb`,\r\n                    `color:#22a6b3;font-weight:700;background-color:#dff9fb`\r\n                );\r\n            }),\r\n            data.progress\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 关闭视图\r\n     * @param url 界面地址 Res.views里的\r\n     * @param all 同一个界面被 多次打开，全删除用这个\r\n     * @param destroy 销毁   TODO（默认会销毁所有子节点，未测试是否有问题）\r\n     */\r\n    async close(url: views, all: boolean = false, destroy: boolean = false, aniCom = ViewShowAni) {\r\n        //TODO 这里现在全部用destroy 引擎remove好像有点问题，再通过view.open会重新构建组件\r\n        destroy = true;\r\n\r\n        let vAni: ViewShowAni;\r\n        for (let x = viewMaps.length - 1; x > -1; x--) {\r\n            if (url === viewMaps[x].url) {\r\n                let v = viewMaps[x];\r\n                viewMaps.splice(x, 1);\r\n                vAni = v.view.getComponent(aniCom);\r\n                if (vAni) {\r\n                    vAni.closeView().then(() => {\r\n                        if (destroy) {\r\n                            v.view.destroy(true);\r\n                            this.closeViewLog(url, true);\r\n                        } else {\r\n                            v.view.removeSelf();\r\n                            this.closeViewLog(url);\r\n                        }\r\n                    });\r\n                } else {\r\n                    if (destroy) {\r\n                        v.view.destroy(true);\r\n                        this.closeViewLog(url, true);\r\n                    } else {\r\n                        v.view.removeSelf();\r\n                        this.closeViewLog(url);\r\n                    }\r\n                }\r\n\r\n                if (!all) break;\r\n            }\r\n        }\r\n\r\n        //保证如果场景完全没有界面被打开的时候，必打开主场景\r\n        let closeLen = 0;\r\n        for (let x = viewMaps.length - 1; x > -1; x--) {\r\n            if (!viewMaps[x].view.parent) {\r\n                closeLen++;\r\n            }\r\n        }\r\n\r\n        if (closeLen === viewMaps.length) {\r\n            viewMaps.length = 0;\r\n            this.open(GameConfig.startScene);\r\n        }\r\n\r\n        console.log(viewMaps);\r\n    }\r\n\r\n    private closeViewLog(url: string, destroy: boolean = false) {\r\n        console.log(\r\n            `%c <== ${destroy ? \"destroy\" : \"disable\"} %c${url.match(/\\w+(?=\\.)/)[0]} `,\r\n            `color:#ff7979;font-weight:700;background-color:#dff9fb`,\r\n            `color:#eb4d4b;font-weight:700;background-color:#dff9fb`\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 清除缓存界面\r\n     */\r\n    clearViewMaps() {\r\n        viewMaps.length = 0;\r\n    }\r\n}\r\n","import { EventMaps } from \"./common/EventMaps\";\r\nimport Res from \"./common/Res\";\r\nimport UserInfo from \"./common/UserInfo\";\r\nimport EventGlobal from \"./core/EventGlobal\";\r\nimport { ViewManager } from \"./core/ViewManager\";\r\nimport GameConfig from \"./GameConfig\";\r\nclass Main {\r\n    constructor() {\r\n        //根据IDE设置初始化引擎\r\n        if (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n        else Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n        Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n        Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n        //兼容微信不支持加载scene后缀场景\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n        if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\")\r\n            Laya.enableDebugPanel();\r\n        if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n        if (GameConfig.stat) Laya.Stat.show();\r\n        Laya.alertGlobalError(true);\r\n\r\n        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n        Laya.ResourceVersion.enable(\r\n            \"version.json\",\r\n            Laya.Handler.create(this, this.onVersionLoaded),\r\n            Laya.ResourceVersion.FILENAME_VERSION\r\n        );\r\n    }\r\n\r\n    onVersionLoaded(): void {\r\n        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n        Laya.AtlasInfoManager.enable(\r\n            \"fileconfig.json\",\r\n            Laya.Handler.create(this, this.onConfigLoaded)\r\n        );\r\n    }\r\n\r\n    async onConfigLoaded() {\r\n        // Laya.SoundManager.playSound(\"res/audio/draw.mp3\");\r\n        //如果通过设备静音键让音频自动跟随设备静音。需要将useAudioMusic设置为false。\r\n        // SoundManager.useAudioMusic=false；\r\n        // Laya.SoundManager.playMusic(Res.audios.win);\r\n\r\n        await new Promise((resolve) => {\r\n            ViewManager.inst.open(Res.views.LoadDialog, {\r\n                showLoad: false,\r\n                complete: (e) => {\r\n                    Laya.View.setLoadingPage(e);\r\n                    Laya.timer.frameOnce(1, this, () => {\r\n                        //后期优化\r\n                        Laya.View.hideLoadingPage(999999999999999);\r\n                        resolve(null);\r\n                    });\r\n                },\r\n            });\r\n        });\r\n\r\n        Laya.loader.load(\r\n            Res.scenes,\r\n            Laya.Handler.create(this, () => {\r\n                console.log(\"ok\");\r\n                Laya.timer.frameOnce(1, this, () => {\r\n                    Laya.View.hideLoadingPage(300);\r\n                    ViewManager.inst.open(GameConfig.startScene);\r\n                });\r\n            }),\r\n            Laya.Handler.create(\r\n                this,\r\n                (e) => {\r\n                    EventGlobal.event(EventMaps.load_progress, e);\r\n                },\r\n                null,\r\n                false\r\n            )\r\n        );\r\n    }\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":["UserInfo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKC,IAAY,KAQR;IARJ,WAAY,KAAK;QAGV,qDAA4C,CAAA;QAE5C,iDAAwC,CAAA;QAExC,iDAAwC,CAAA;IAC5C,CAAC,EARQ,KAAK,KAAL,KAAK,QAQb;AAEJ,IAAA,IAAY,MAcR;IAdJ,WAAY,MAAM;QAGX,mCAAyB,CAAA;QAEzB,uCAA6B,CAAA;QAE7B,qCAA2B,CAAA;QAE3B,iCAAuB,CAAA;QAEvB,qCAA2B,CAAA;QAE3B,qCAA2B,CAAA;IAC/B,CAAC,EAdQ,MAAM,KAAN,MAAM,QAcd;AAKJ,IAAO,MAAM,MAAM,GAAG;QACd,6BAA6B;QAC7B,6BAA6B;QAC7B,+BAA+B;QAC/B,iCAAiC;QAC9B,kBAAkB;QAClB,mBAAmB;QACnB,aAAa;QACb,mBAAmB;QACnB,qBAAqB;QACrB,oBAAoB;QACpB,kBAAkB;QAClB,oBAAoB;QACpB,oBAAoB;QACpB,mBAAmB;QACnB,qBAAqB;QACrB,oBAAoB;QACpB,sBAAsB;QACtB,oBAAoB;QACpB,sBAAsB;KAAC,CAAC;IAMpC,MAAM,GAAG,GAAG;QACR,KAAK,EAAE,KAAK;QACZ,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,MAAM;KACjB,CAAC;;IC5DF,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;AAK/C,IAAO,MAAM,UAAU,GAA4C,IAAI,GAAG,EAAE,CAAC;AAG7E,aAAgB,OAAO,CAAC,IAAY;QAChC,OAAO,CAAC,MAAW,EAAE,WAAmB,EAAE,UAA8B;YACpE,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC;SAC/D,CAAC;IACN,CAAC;;UCboB,WAAY,SAAQ,IAAI,CAAC,MAAM;QAIhD;YACI,KAAK,EAAE,CAAC;YAJJ,oBAAe,GAAe,IAAI,CAAC;YACnC,qBAAgB,GAAe,IAAI,CAAC;SAI3C;QAKD,MAAM,MAAK;QAIX,OAAO,MAAK;QAEZ,QAAQ;YACJ,IAAI,MAAM,GAAG,IAAI,CAAC,KAAkB,CAAC;YACrC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAClC,MAAM,EACN,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAC3E,GAAG,EACH,IAAI,CAAC,IAAI,CAAC,OAAO,EACjB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,EAChD,CAAC,EACD,KAAK,EACL,KAAK,CACR,CAAC;SACL;QAED,SAAS;YACL,IAAI,MAAM,GAAG,IAAI,CAAC,KAAkB,CAAC;YACrC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO;gBACvB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CACjC,MAAM,EACN,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAC3E,GAAG,EACH,IAAI,CAAC,IAAI,CAAC,SAAS,EACnB,IAAI,IAAI,CAAC,OAAO,CACZ,IAAI,EACJ;oBACI,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,OAAO,CAAC,IAAI,CAAC,CAAC;iBACjB,EACD,CAAC,MAAM,CAAC,CACX,EAUD,CAAC,EACD,KAAK,EACL,KAAK,CACR,CAAC;aACL,CAAC,CAAC;SACN;QAED,SAAS;YACL,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAC/D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACjE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAChC;KACJ;;UCtEoB,QAAS,SAAQ,IAAI,CAAC,MAAM;QAAjD;;YAEW,cAAS,GAAe,IAAI,CAAC;SAmBvC;QAjBG,OAAO;SAEN;QAED,QAAQ;YAEJ,WAAW,CAAC,EAAE,kBAA0B,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACjE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY,CAAC;SACtC;QAEO,YAAY,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,WAAW,CAAC,CAAC,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;SAC5D;QAED,SAAS;YACL,WAAW,CAAC,GAAG,kBAA0B,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SACrE;KACJ;;ICnBD,MAAM,QAAQ;QAAd;YAEI,aAAQ,GAAW,MAAM,CAAC;YAE1B,QAAG,GAAW,CAAC,CAAC;SAKnB;QAHG,KAAK;YACD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACtB;KACJ;AACD,qBAAe,IAAI,QAAQ,EAAE,CAAC;;ICf9B,MAAM,OAAO,GAAyB,IAAI,GAAG,EAAE,CAAC;IAEhD,MAAM,iBAAiB;QAAvB;YACY,cAAS,GAAsC,IAAI,GAAG,EAAE,CAAC;SA0EpE;QApEG,KAAK,CAAe,GAAM,EAAE,MAAY;YACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;gBACtB,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aAC3B;YAED,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBACpB,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;aAChC;YAOD,MAAM,OAAO,GAAG,CAAsB,GAAiB,EAAE,IAAc;gBACnE,IAAI,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;oBAChB,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBAClB,IAAI,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,SAAS,EAAE;wBAC7B,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;wBAC1B,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;4BAC5B,YAAY,EAAE,KAAK;4BACnB,UAAU,EAAE,KAAK;4BACjB,GAAG,EAAE,CAAC,CAAC;gCACH,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;gCACpB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oCACpB,CAAC,CAAC,CAAC,CAAC,CAAC;iCACR,CAAC,CAAC;6BACN;4BACD,GAAG,EAAE;gCACD,OAAO,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;6BAC1B;yBACJ,CAAC,CAAC;qBACN;iBACJ;gBAED,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACzB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBACf,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC;aAC3B,CAAC;YAEF,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC;SAC3B;QAOD,cAAc,CAAC,MAAY,EAAE,MAAW,IAAI;;YACxC,MAAA,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,0CAAE,OAAO,CAAC,CAAC,CAAC;;gBAC3B,IAAI,GAAG,EAAE;oBACL,MAAA,IAAI,CAAC,SAAS,0CAAE,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,EAAE;wBAChC,IAAI,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBAC5B,IAAI,OAAO,GAAG,CAAC,CAAC;4BAAE,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;qBAC3C,EAAE;iBACN;qBAAM;oBACH,MAAA,IAAI,CAAC,SAAS,0CAAE,OAAO,CAAC,CAAC,CAAC;wBACtB,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE;4BACT,IAAI,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;4BAC5B,IAAI,OAAO,GAAG,CAAC,CAAC;gCAAE,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBAC3C,CAAC,CAAC;qBACN,EAAE;iBACN;aACJ,EAAE;SACN;KACJ;AAKD,6BAAe,IAAI,iBAAiB,EAAE,CAAC;;UC5ET,UAAW,SAAQ,IAAI,CAAC,MAAM;QACxD;YACI,KAAK,EAAE,CAAC;YAER,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,SAAS,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC3D,SAAS,IAAI,WAAW,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;SAClE;QAMD,OAAO;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QAKD,SAAS,MAAK;QAMd,QAAQ;YACJ,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QAMD,UAAU,MAAK;QAMf,OAAO;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QAKD,SAAS,MAAK;QAMd,QAAQ;YACJ,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QAMD,UAAU,MAAK;QAMf,SAAS;YACL,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QAMD,WAAW,MAAK;QAMhB,SAAS;YACL,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE;gBAErB,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAExC,IAAI,IAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACzC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;iBACxB;aACJ,CAAC,CAAC;SACN;QAMD,WAAW,MAAK;KACnB;;UCnGoB,QAAS,SAAQ,UAAU;QAAhD;;YAEW,UAAK,GAAe,IAAI,CAAC;SA4BnC;QAzBG,UAAU;YAGN,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,WAAW,CAAC;gBACRA,UAAQ,CAAC,QAAQ,GAAG,SAAS,GAAG,EAAE,CAAC,CAAC;gBACpC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aAIpC,EAAE,IAAI,CAAC,CAAC;YAET,kBAAkB,CAAC,KAAK,CAACA,UAAQ,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;gBACvD,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;aACvB,CAAC,CAAC;SACN;QAED,OAAO,CAAC,CAAC;YACL,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI;gBACjB,KAAK,UAAU;oBACX,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;oBACzB,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAC1C,MAAM;aACb;SACJ;KACJ;;UCrCoB,MAAO,SAAQ,IAAI,CAAC,MAAM;QAA/C;;YAMY,YAAO,GAAG,KAAK,CAAC;YAEhB,aAAQ,GAAW,GAAG,CAAC;SAyClC;QAvCG,QAAQ;SAEP;QAED,WAAW;YACP,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAE3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC9B;QAED,UAAU;YACN,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAClB;QACD,SAAS;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAClB;QAEO,MAAM,CAAC,KAAa;YACxB,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO;YAC1B,IAAI,CAAC,KAAK,CAAC,EAAE,CACT,IAAI,CAAC,KAAK,EACV,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAChC,GAAG,EACH,IAAI,CAAC,IAAI,CAAC,OAAO,EACjB,IAAI,EACJ,CAAC,EACD,KAAK,EACL,KAAK,CACR,CAAC;SACL;QAEO,OAAO,CAAC,IAAY;YACxB,IAAI,CAAC,IAAI;gBAAE,OAAO;YACjB,IAAI,CAAC,KAAoB,CAAC,IAAI,GAAG,IAAI,CAAC;SAC1C;QAED,SAAS,MAAW;KACvB;;UC1CoB,WAAY,SAAQ,UAAU;QAAnD;;YAEW,UAAK,GAAe,IAAI,CAAC;YAEhC,SAAI,GAAW,QAAQ,CAAC;SAc3B;QAXG,OAAO,CAAC,CAAC;YACL,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SACpC;QAED,OAAO,CAAC,CAAC;YACL,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI;gBACjB,KAAK,OAAO;oBACR,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAC3C,MAAM;aACb;SACJ;KACJ;IAXG;QADC,OAAO,CAAC,IAAI,CAAC;;;;8CAGb;;UCRgB,UAAU;QAa3B,iBAAe;QACf,OAAO,IAAI;YACP,IAAI,GAAG,GAAa,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;YAC7C,GAAG,CAAC,kBAAkB,EAAC,QAAQ,CAAC,CAAC;YACjC,GAAG,CAAC,kBAAkB,EAAC,QAAQ,CAAC,CAAC;YACjC,GAAG,CAAC,sBAAsB,EAAC,MAAM,CAAC,CAAC;YACnC,GAAG,CAAC,qBAAqB,EAAC,WAAW,CAAC,CAAC;SAC1C;;IAnBM,gBAAK,GAAQ,GAAG,CAAC;IACjB,iBAAM,GAAQ,IAAI,CAAC;IACnB,oBAAS,GAAQ,YAAY,CAAC;IAC9B,qBAAU,GAAQ,UAAU,CAAC;IAC7B,iBAAM,GAAQ,QAAQ,CAAC;IACvB,iBAAM,GAAQ,QAAQ,CAAC;IACvB,qBAAU,GAAK,6BAA6B,CAAC;IAC7C,oBAAS,GAAQ,EAAE,CAAC;IACpB,gBAAK,GAAS,KAAK,CAAC;IACpB,eAAI,GAAS,IAAI,CAAC;IAClB,uBAAY,GAAS,KAAK,CAAC;IAC3B,4BAAiB,GAAS,IAAI,CAAC;IAU1C,UAAU,CAAC,IAAI,EAAE,CAAC;;IC3BlB,MAAM,YAAY,GAAkC,IAAI,GAAG,EAAE,CAAC;IAK9D,IAAI,UAAU,GAAW,GAAG,CAAC;AAK7B,aAAgB,QAAQ,CAAC,MAAW,EAAE,GAAW;QAC7C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,EAAE;YAC1C,UAAU,EAAE,CAAC;YACb,MAAM,CAAC,aAAa,CAAC,GAAG,UAAU,CAAC;YACnC,YAAY,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC/C,CAAC;;ICOD,MAAM,QAAQ,GAAuC,EAAE,CAAC;AAKxD,UAAa,WAAW;QASpB,IAAI,CACA,GAAU,EACV,OAAqB;YACjB,UAAU,EAAE,KAAK;YACjB,QAAQ,EAAE,KAAK;YACf,aAAa,EAAE,GAAG;YAClB,aAAa,EAAE,CAAC;SACnB;YAED,IAAI,CAAC,GAAG,EAAE;gBACN,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC3B,OAAO;aACV;YAED,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACpD,IAAI,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE;oBAC9B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE;wBAC1B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBACjD,CAAC,CAAC;iBACN;aACJ;YAED,IAAI,CAAC,IAAI,CAAC,IAAI,CACV,GAAG,EACH,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;gBACxB,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,UAAU;oBAAE,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;gBACtE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAClC,OAAO,CAAC,GAAG,CACP,iBAAiB,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,EAC7C,wDAAwD,EACxD,wDAAwD,CAC3D,CAAC;aACL,CAAC,EACF,IAAI,CAAC,QAAQ,CAChB,CAAC;SACL;QAQK,KAAK,CAAC,GAAU,EAAE,MAAe,KAAK,EAAE,UAAmB,KAAK,EAAE,MAAM,GAAG,WAAW;;gBAExF,OAAO,GAAG,IAAI,CAAC;gBAEf,IAAI,IAAiB,CAAC;gBACtB,KAAK,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBAC3C,IAAI,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;wBACzB,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACpB,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACtB,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;wBACnC,IAAI,IAAI,EAAE;4BACN,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;gCAClB,IAAI,OAAO,EAAE;oCACT,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oCACrB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;iCAChC;qCAAM;oCACH,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;oCACpB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;iCAC1B;6BACJ,CAAC,CAAC;yBACN;6BAAM;4BACH,IAAI,OAAO,EAAE;gCACT,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gCACrB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;6BAChC;iCAAM;gCACH,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gCACpB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;6BAC1B;yBACJ;wBAED,IAAI,CAAC,GAAG;4BAAE,MAAM;qBACnB;iBACJ;gBAGD,IAAI,QAAQ,GAAG,CAAC,CAAC;gBACjB,KAAK,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBAC3C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;wBAC1B,QAAQ,EAAE,CAAC;qBACd;iBACJ;gBAED,IAAI,QAAQ,KAAK,QAAQ,CAAC,MAAM,EAAE;oBAC9B,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;oBACpB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;iBACpC;gBAED,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;aACzB;SAAA;QAEO,YAAY,CAAC,GAAW,EAAE,UAAmB,KAAK;YACtD,OAAO,CAAC,GAAG,CACP,UAAU,OAAO,GAAG,SAAS,GAAG,SAAS,MAAM,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,EAC3E,wDAAwD,EACxD,wDAAwD,CAC3D,CAAC;SACL;QAKD,aAAa;YACT,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;SACvB;KACJ;IArHG;QADC,QAAQ;kCACI,WAAW;mCAAC;;IC5B7B,MAAM,IAAI;QACN;YAEI,IAAI,MAAM,CAAC,QAAQ,CAAC;gBAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;;gBAClE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC;YAClD,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;YAC9C,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;YAEtC,IAAI,CAAC,GAAG,CAAC,iBAAiB,GAAG,UAAU,CAAC,iBAAiB,CAAC;YAG1D,IAAI,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,MAAM;gBAChE,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,IAAI,UAAU,CAAC,YAAY,IAAI,IAAI,CAAC,kBAAkB,CAAC;gBAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,EAAE,CAAC;YAC3F,IAAI,UAAU,CAAC,IAAI;gBAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACtC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAG5B,IAAI,CAAC,eAAe,CAAC,MAAM,CACvB,cAAc,EACd,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,EAC/C,IAAI,CAAC,eAAe,CAAC,gBAAgB,CACxC,CAAC;SACL;QAED,eAAe;YAEX,IAAI,CAAC,gBAAgB,CAAC,MAAM,CACxB,iBAAiB,EACjB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CACjD,CAAC;SACL;QAEK,cAAc;;gBAMhB,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO;oBACtB,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE;wBACxC,QAAQ,EAAE,KAAK;wBACf,QAAQ,EAAE,CAAC,CAAC;4BACR,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;4BAC5B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE;gCAE1B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;gCAC3C,OAAO,CAAC,IAAI,CAAC,CAAC;6BACjB,CAAC,CAAC;yBACN;qBACJ,CAAC,CAAC;iBACN,CAAC,CAAC;gBAEH,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,GAAG,CAAC,MAAM,EACV,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;oBACtB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBAClB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE;wBAC1B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;wBAC/B,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;qBAChD,CAAC,CAAC;iBACN,CAAC,EACF,IAAI,CAAC,OAAO,CAAC,MAAM,CACf,IAAI,EACJ,CAAC,CAAC;oBACE,WAAW,CAAC,KAAK,kBAA0B,CAAC,CAAC,CAAC;iBACjD,EACD,IAAI,EACJ,KAAK,CACR,CACJ,CAAC;aACL;SAAA;KACJ;IAED,IAAI,IAAI,EAAE,CAAC;;;;"}